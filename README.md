# Тестовое задание на позицию стажера/junior бекенд разработчика в юнит Авто

## Задача:

Нужно сделать HTTP сервис для сокращения URL наподобие [Bitly](https://bitly.com/) и других сервисов.

UI не нужен, достаточно сделать JSON API сервис.  
Должна быть возможность: 
- сохранить короткое представление заданного URL
- перейти по сохраненному ранее короткому представлению и получить redirect на соответствующий исходный URL

### Требования:

- Язык программирования: Go/Python/PHP/Java/JavaScript
- Предоставить инструкцию по запуску приложения. В идеале (но не обязательно) – использовать контейнеризацию с возможностью запустить проект командой [`docker-compose up`](https://docs.docker.com/compose/)
- Требований к используемым технологиям нет - можно использовать любую БД для персистентности
- Код нужно выложить на github (просьба не делать форк этого репозитория, чтобы не плодить плагиат)

### Усложнения:

- Написаны тесты (постарайтесь достичь покрытия в 70% и больше)
- Добавлена валидация URL с проверкой корректности ссылки
- Добавлена возможность задавать кастомные ссылки, чтобы пользователь мог сделать их человекочитаемыми - [http://bit.ly/avito-auto-be](http://bit.ly/avito-auto-be)
- Проведено нагрузочное тестирование с целью понять, какую нагрузку на чтение может выдержать наш сервис
- Если вдруг будет желание, можно слепить простой UI и выложить сервис на бесплатный хостинг - Google Cloud, AWS и подобные. 
------------
## Решение через FastAPI
 #### Реализовано:
 - Валидация
 - Возможность добавлять кастомные ссылки
 - Тестирование
 - Кеширование для ускорения работы  

Автоматическая ссылка формируется по алфавиту BASE58 из .env файла.  
Убраны неудобные для пользователя символы ilI1o0O.  
Быстрый фреймворк, кеширование, прямой доступ к записи в базе данных по id. 

#### Установка и запуск (docker-compose):
- cd where-you-keep-your-projects
```shell 
mkdir uat_project && cd uat_project
```
```shell
git init
```
```shell
git pull https://github.com/segonaz/fastapi-shortener
```
```shell
docker-compose --env-file ./backend/.env.example up --build
```
После запуска сервера, интерактивная документация будет доступна по адресу: http://your_ip_address:8000/docs, или http://127.0.0.1:8000/docs  
Альтернативная документация: http://your_ip_address:8000/redoc, или http://localhost:8000/redoc  
- Запуск тестов с помощью docker:
1. Подключиться к запущенному контейнеру с помощью команды:
```shell
docker exec -it shortener_server /bin/bash
```
2. Запустить тесты:
```shell
cd src && pytest test --cov=shortener --cov-report term
```
